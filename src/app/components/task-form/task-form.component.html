<form [formGroup]="taskForm" (ngSubmit)="onSubmit()" class="task-form">
  <div class="form-group">
    <label for="title">Title</label>
    <input
      type="text"
      id="title"
      formControlName="title"
      class="form-control"
      placeholder="Enter task title"
      [class.is-invalid]="taskForm.get('title')?.invalid && taskForm.get('title')?.touched"
    >
    <div class="invalid-feedback" *ngIf="taskForm.get('title')?.invalid && taskForm.get('title')?.touched">
      Title is required and must be at least 3 characters long
    </div>
  </div>

  <div class="form-group">
    <label for="description">Description</label>
    <textarea
      id="description"
      formControlName="description"
      class="form-control"
      rows="3"
      placeholder="Enter task description"
      [class.is-invalid]="taskForm.get('description')?.invalid && taskForm.get('description')?.touched"
    ></textarea>
    <div class="invalid-feedback" *ngIf="taskForm.get('description')?.invalid && taskForm.get('description')?.touched">
      Description is required and must be at least 10 characters long
    </div>
  </div>

  <div class="form-group">
    <label for="dueDate">Due Date</label>
    <input
      type="date"
      id="dueDate"
      formControlName="dueDate"
      class="form-control"
      [class.is-invalid]="taskForm.get('dueDate')?.invalid && taskForm.get('dueDate')?.touched"
    >
    <div class="invalid-feedback" *ngIf="taskForm.get('dueDate')?.invalid && taskForm.get('dueDate')?.touched">
      Due date is required
    </div>
  </div>

  <div class="form-group">
    <label for="priority">Priority</label>
    <select
      id="priority"
      formControlName="priority"
      class="form-control"
    >
      <option *ngFor="let priority of priorities" [value]="priority">
        {{priority | titlecase}}
      </option>
    </select>
  </div>

  <div class="form-group">
    <label for="status">Status</label>
    <select
      id="status"
      formControlName="status"
      class="form-control"
    >
      <option *ngFor="let status of statuses" [value]="status">
        {{status | titlecase}}
      </option>
    </select>
  </div>

  <div class="form-actions">
    <button type="submit" class="btn btn-primary" [disabled]="taskForm.invalid">
      {{task ? 'Update Task' : 'Add Task'}}
    </button>
    <button type="button" class="btn btn-secondary" (click)="onCancel()">
      Cancel
    </button>
  </div>
</form>
